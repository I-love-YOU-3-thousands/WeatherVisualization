{"version":3,"sources":["webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-f2/components/l-f2/l-f2.vue?99e2","webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-f2/components/l-f2/l-f2.vue?0363","webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-f2/components/l-f2/l-f2.vue?8df9","webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-f2/components/l-f2/l-f2.vue?e76b","uni-app:///uni_modules/lime-f2/components/l-f2/l-f2.vue","webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-f2/components/l-f2/l-f2.vue?3915","webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-f2/components/l-f2/l-f2.vue?746b"],"names":[],"mappings":"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","file":"uni_modules/lime-f2/components/l-f2/l-f2.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./l-f2.vue?vue&type=template&id=68739dc6&scoped=true&\"\nvar renderjs\nimport script from \"./l-f2.vue?vue&type=script&lang=js&\"\nexport * from \"./l-f2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./l-f2.vue?vue&type=style&index=0&id=68739dc6&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68739dc6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/lime-f2/components/l-f2/l-f2.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l-f2.vue?vue&type=template&id=68739dc6&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l-f2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l-f2.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"l-f2\" :style=\"customStyle\" v-if=\"canvasId\">\r\n\t\t<!-- #ifndef APP-NVUE -->\r\n\t\t<cover-view class=\"l-f2__mask\" v-if=\"isMask\"></cover-view>\r\n\t\t<canvas\r\n\t\t\tclass=\"l-f2__canvas\"\r\n\t\t\tv-if=\"use2dCanvas\"\r\n\t\t\ttype=\"2d\"\r\n\t\t\t:id=\"canvasId\"\r\n\t\t\t:style=\"'width:' + width + 'px;height:' + height + 'px'\"\r\n\t\t\t:disable-scroll=\"isDisableScroll\"\r\n\t\t\t@touchstart=\"touchStart\"\r\n\t\t\t@touchmove=\"touchMove\"\r\n\t\t\t@touchend=\"touchEnd\"\r\n\t\t/>\r\n\t\t<canvas\r\n\t\t\tclass=\"l-f2__canvas\"\r\n\t\t\tv-else\r\n\t\t\t:width=\"nodeWidth\"\r\n\t\t\t:height=\"nodeHeight\"\r\n\t\t\t:style=\"'width:' + width + 'px;height:' + height + 'px'\"\r\n\t\t\t:canvas-id=\"canvasId\"\r\n\t\t\t:id=\"canvasId\"\r\n\t\t\t:disable-scroll=\"isDisableScroll\"\r\n\t\t\t@touchstart=\"touchStart\"\r\n\t\t\t@touchmove=\"touchMove\"\r\n\t\t\t@touchend=\"touchEnd\"\r\n\t\t/>\r\n\t\t<view v-if=\"isCloud\" style=\"width:2048px; height:2048px; position: fixed; left: 9999px;\">\r\n\t\t\t<canvas v-if=\"use2dCanvas\" type=\"2d\" :canvas-id=\"canvasId + '_cloud'\" :id=\"canvasId + '_cloud'\" class=\"l-f2__canvas\"></canvas>\r\n\t\t\t<canvas v-else :canvas-id=\"canvasId + '_cloud'\" :id=\"canvasId + '_cloud'\" class=\"l-f2__canvas\"></canvas>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef APP-NVUE -->\r\n\t\t<web-view\r\n\t\t\tclass=\"l-f2__canvas\"\r\n\t\t\t:id=\"canvasId\"\r\n\t\t\tref=\"webview\"\r\n\t\t\t:webviewStyles=\"webviewStyles\"\r\n\t\t\tsrc=\"http://liangei.gitee.io/limeui/hybrid/html/lime-ui/lime-f2/index.html?v=0.4.8\"\r\n\t\t\t@pagefinish=\"isFinish = true\"\r\n\t\t\t@onPostMessage=\"onMessage\"\r\n\t\t></web-view>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n<script>\r\n// #ifndef APP-NVUE\r\nimport extendContext from './canvas';\r\nimport { compareVersion, wrapEvent, pixelRatio } from './utils';\r\n// #endif\r\n// #ifdef APP-NVUE\r\nimport { base64ToPath } from './utils';\r\n// #endif\r\nexport default {\r\n\t// version: '0.5.1'\r\n\tname: 'lime-f2',\r\n\tprops: {\r\n\t\t// #ifdef MP-WEIXIN || MP-TOUTIAO\r\n\t\ttype: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '2d'\r\n\t\t},\r\n\t\t// #endif\r\n\t\t// #ifdef APP-NVUE\r\n\t\twebviewStyles: Object,\r\n\t\tparams: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {}\r\n\t\t},\r\n\t\t// #endif\r\n\t\tcustomStyle: String,\r\n\t\timageMask: String,\r\n\t\tsource: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\tisAutoPlay: Boolean,\r\n\t\tisDisableScroll: Boolean,\r\n\t\tisCloud: Boolean,\r\n\t\tonInit: {\r\n\t\t\ttype: [Function, Object],\r\n\t\t\tdefault: () => {}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// #ifdef MP-WEIXIN || MP-TOUTIAO\r\n\t\t\tuse2dCanvas: true,\r\n\t\t\t// #endif\r\n\t\t\t// #ifndef MP-WEIXIN || MP-TOUTIAO\r\n\t\t\tuse2dCanvas: false,\r\n\t\t\t// #endif\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\twidth: null,\r\n\t\t\theight: null,\r\n\t\t\tnodeWidth: null,\r\n\t\t\tnodeHeight: null,\r\n\t\t\tisMask: false,\r\n\t\t\tisInited: false,\r\n\t\t\timageData: null,\r\n\t\t\t// config: {},\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tisFinish: false,\r\n\t\t\tfile: ''\r\n\t\t\t// #endif\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tcanvasId() {\r\n\t\t\treturn `l-f2${this._uid}`;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tisAutoPlay(val) {\r\n\t\t\tif (val) {\r\n\t\t\t\tthis.changeData(this.source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsource: {\r\n\t\t\thandler: function(data) {\r\n\t\t\t\tif (this.isAutoPlay) {\r\n\t\t\t\t\tthis.changeData(data);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeep: true\r\n\t\t}\r\n\t},\r\n\tbeforeDestroy() {\r\n\t\tthis.clear();\r\n\t\tthis.destroy();\r\n\t},\r\n\tcreated() {\r\n\t\tthis.config = {}\r\n\t\tthis.isMask = this.isCloud && this.imageMask;\r\n\t\t// #ifdef MP-WEIXIN || MP-TOUTIAO\r\n\t\tconst { SDKVersion, version, platform, environment } = uni.getSystemInfoSync();\r\n\t\t// #endif\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tthis.use2dCanvas = this.type === '2d' && compareVersion(SDKVersion, '2.9.2') >= 0 && !((/ios/i.test(platform) && /7.0.20/.test(version)) || /wxwork/i.test(environment)) && !/windows/i.test(platform);;\r\n\t\t// #endif\r\n\t\t// #ifdef MP-TOUTIAO\r\n\t\tthis.use2dCanvas = this.type === '2d' && compareVersion(SDKVersion, '1.78.0') >= 0;\r\n\t\t// #endif\r\n\t},\r\n\r\n\tasync mounted() {\r\n\t\tif (this.onInit) {\r\n\t\t\tthis.init(this.onInit);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// #ifdef APP-NVUE\r\n\t\tonMessage(e) {\r\n\t\t\tconst res = e?.detail?.data[0] || null;\r\n\t\t\tif (res?.event) {\r\n\t\t\t\tthis.$emit(res.event, JSON.parse(res.data));\r\n\t\t\t} else if (res?.file) {\r\n\t\t\t\tthis.file = res.data;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error(res);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\tasync init(func, params = null) {\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.$watch(\r\n\t\t\t\t'isFinish',\r\n\t\t\t\t(n, o) => {\r\n\t\t\t\t\t(n || o) && (params || this.params) && this.$refs.webview.evalJs(`init(${JSON.stringify(func.toString())}, ${JSON.stringify(params || this.params)})`);\r\n\t\t\t\t\tthis.isInited = true;\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\timmediate: true\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t// #endif\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tlet config = await this.getContext(this.canvasId);\r\n\t\t\tif (this.isCloud) {\r\n\t\t\t\tlet imageMask = null;\r\n\t\t\t\tif (this.imageMask) {\r\n\t\t\t\t\tthis.isMask = true;\r\n\t\t\t\t\timageMask = await this.getImageMask(config);\r\n\t\t\t\t\tthis.imageData = imageMask;\r\n\t\t\t\t\tthis.isMask = false;\r\n\t\t\t\t}\r\n\t\t\t\tlet cloud = await this.getContext(this.canvasId + '_cloud');\r\n\t\t\t\tconfig = Object.assign({}, config, { cloud, imageMask });\r\n\t\t\t}\r\n\t\t\tconst chart = await func(config);\r\n\t\t\tif (chart) {\r\n\t\t\t\tthis.chart = chart;\r\n\t\t\t\tthis.canvasEl = chart.get('el');\r\n\t\t\t\tthis.isInited = true;\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tchangeData(data) {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tif (this.chart) {\r\n\t\t\t\tthis.chart.changeData(data || this.source);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.$refs.webview.evalJs(`changeData(${JSON.stringify(data || this.source)})`);\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tclear() {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tif (this.chart) {\r\n\t\t\t\tthis.chart.clear();\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.$refs.webview.evalJs(`clear()`);\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tdestroy() {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tif (this.chart) {\r\n\t\t\t\tthis.chart.destroy();\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.$refs.webview.evalJs(`destroy()`);\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\trepaint() {\r\n\t\t\tthis.changeData(this.source);\r\n\t\t},\r\n\t\treset(func, params = null) {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tthis.$watch(\r\n\t\t\t\t'isInited',\r\n\t\t\t\tv => v && func(this.chart),\r\n\t\t\t\t{\r\n\t\t\t\t\timmediate: true\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.$refs.webview.evalJs(`reset(${JSON.stringify(func.toString())}, ${JSON.stringify(params || this.params)})`);\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tcanvasToTempFilePath(args = {}) {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tconst { use2dCanvas, canvasId, config } = this;\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tconst copyArgs = Object.assign(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcanvasId,\r\n\t\t\t\t\t\tsuccess: resolve,\r\n\t\t\t\t\t\tfail: reject\r\n\t\t\t\t\t},\r\n\t\t\t\t\targs\r\n\t\t\t\t);\r\n\t\t\t\tif (use2dCanvas) {\r\n\t\t\t\t\tlet { canvas } = config[canvasId];\r\n\t\t\t\t\tdelete copyArgs.canvasId;\r\n\t\t\t\t\tcopyArgs.canvas = canvas;\r\n\t\t\t\t}\r\n\t\t\t\tuni.canvasToTempFilePath(copyArgs, this);\r\n\t\t\t});\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.file = '';\r\n\t\t\tthis.$refs.webview.evalJs(`canvasToTempFilePath()`);\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tthis.$watch('file', async file => {\r\n\t\t\t\t\tif (file) {\r\n\t\t\t\t\t\tconst tempFilePath = await base64ToPath(file);\r\n\t\t\t\t\t\tresolve(args.success({ tempFilePath }));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(args.fail({ error: `` }));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t// #ifndef APP-NVUE\r\n\t\tgetImageMask(config) {\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\tsrc: this.imageMask,\r\n\t\t\t\t\tsuccess: async res => {\r\n\t\t\t\t\t\tif (res.path) {\r\n\t\t\t\t\t\t\t// #ifdef MP-WEIXIN || MP-BAIDU || MP-QQ || MP-TOUTIAO\r\n\t\t\t\t\t\t\tconst localReg = /^\\.|^\\/(?=[^\\/])/;\r\n\t\t\t\t\t\t\tres.path = localReg.test(this.imageMask) ? `/${res.path}` : res.path;\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\tconst { context, width, height, canvas } = config;\r\n\t\t\t\t\t\t\tif (this.use2dCanvas) {\r\n\t\t\t\t\t\t\t\tconst imageMask = () => {\r\n\t\t\t\t\t\t\t\t\tconst imageMask = canvas.createImage();\r\n\t\t\t\t\t\t\t\t\timageMask.crossOrigin = '';\r\n\t\t\t\t\t\t\t\t\timageMask.src = res.path;\r\n\t\t\t\t\t\t\t\t\timageMask.onload = async () => {\r\n\t\t\t\t\t\t\t\t\t\tcontext.drawImage(imageMask, 0, 0, res.width, res.height, 0, 0, width, height);\r\n\t\t\t\t\t\t\t\t\t\tconst imageData = context.getImageData(0, 0, width, height).data;\r\n\t\t\t\t\t\t\t\t\t\tcontext.clearRect(0, 0, width, height);\r\n\t\t\t\t\t\t\t\t\t\tresolve(imageData);\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\timageMask();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// #ifndef MP-BAIDU\r\n\t\t\t\t\t\t\t\tcontext.drawImage(res.path, 0, 0, res.width, res.height, 0, 0, width, height);\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t// #ifdef MP-BAIDU\r\n\t\t\t\t\t\t\t\tcontext.drawImage(res.path, 0, 0, width, height, 0, 0, res.width, res.height);\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\tawait this.canvasDraw(context);\r\n\t\t\t\t\t\t\t\tconst imageData = await context.getImageData(0, 0, width, height);\r\n\t\t\t\t\t\t\t\tcontext.clearRect(0, 0, width, height);\r\n\t\t\t\t\t\t\t\tawait this.canvasDraw(context);\r\n\t\t\t\t\t\t\t\tresolve(imageData);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.error(JSON.stringify(err));\r\n\t\t\t\t\t\tresolve(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tcanvasDraw(ctx) {\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tctx.draw(false, () => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tresolve(true);\r\n\t\t\t\t\t}, 100);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetContext(canvasId) {\r\n\t\t\tconst { use2dCanvas, type = '2d', config } = this;\r\n\t\t\tif (config[canvasId]?.context) {\r\n\t\t\t\treturn Promise.resolve(config[canvasId]);\r\n\t\t\t}\r\n\t\t\tif (use2dCanvas) {\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tuni.createSelectorQuery()\r\n\t\t\t\t\t\t.in(this)\r\n\t\t\t\t\t\t.select(`#${canvasId}`)\r\n\t\t\t\t\t\t.fields({\r\n\t\t\t\t\t\t\tnode: true,\r\n\t\t\t\t\t\t\tsize: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.exec(res => {\r\n\t\t\t\t\t\t\tlet { node, width, height } = res[0];\r\n\t\t\t\t\t\t\twidth = width || 300;\r\n\t\t\t\t\t\t\theight = height || 300;\r\n\t\t\t\t\t\t\tconst context = node.getContext(type);\r\n\t\t\t\t\t\t\tif (!canvasId.includes('_cloud')) {\r\n\t\t\t\t\t\t\t\tthis.width = width;\r\n\t\t\t\t\t\t\t\tthis.height = height;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tnode.width = width * pixelRatio;\r\n\t\t\t\t\t\t\tnode.height = height * pixelRatio;\r\n\t\t\t\t\t\t\tthis.config[canvasId] = { context, width, height, pixelRatio, canvas: node };\r\n\t\t\t\t\t\t\tresolve(this.config[canvasId]);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tuni.createSelectorQuery()\r\n\t\t\t\t\t.in(this)\r\n\t\t\t\t\t.select(`#${canvasId}`)\r\n\t\t\t\t\t.boundingClientRect()\r\n\t\t\t\t\t.exec(res => {\r\n\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\tlet { width, height } = res[0];\r\n\t\t\t\t\t\t\twidth = width || 300;\r\n\t\t\t\t\t\t\theight = height || 300;\r\n\t\t\t\t\t\t\tconst context = uni.createCanvasContext(canvasId, this);\r\n\t\t\t\t\t\t\tif (!canvasId.includes('_cloud')) {\r\n\t\t\t\t\t\t\t\tthis.width = width;\r\n\t\t\t\t\t\t\t\tthis.height = height;\r\n\t\t\t\t\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\t\t\t\t\tthis.nodeWidth = width * pixelRatio;\r\n\t\t\t\t\t\t\t\tthis.nodeHeight = height * pixelRatio;\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.config[canvasId] = {\r\n\t\t\t\t\t\t\t\tcontext: extendContext(context), \r\n\t\t\t\t\t\t\t\twidth, \r\n\t\t\t\t\t\t\t\theight, \r\n\t\t\t\t\t\t\t\t// #ifdef H5 || APP-PLUS\r\n\t\t\t\t\t\t\t\tpixelRatio: 1, \r\n\t\t\t\t\t\t\t\toPixelRatio: pixelRatio,\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t// #ifndef H5 \r\n\t\t\t\t\t\t\t\tpixelRatio\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tresolve(this.config[canvasId]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\ttouchStart(e) {\r\n\t\t\tif (this.canvasEl) {\r\n\t\t\t\tthis.canvasEl.dispatchEvent('touchstart', wrapEvent(e));\r\n\t\t\t}\r\n\t\t},\r\n\t\ttouchMove(e) {\r\n\t\t\tif (this.canvasEl) {\r\n\t\t\t\tthis.canvasEl.dispatchEvent('touchmove', wrapEvent(e));\r\n\t\t\t}\r\n\t\t},\r\n\t\ttouchEnd(e) {\r\n\t\t\tif (this.canvasEl) {\r\n\t\t\t\tthis.canvasEl.dispatchEvent('touchend', wrapEvent(e));\r\n\t\t\t}\r\n\t\t}\r\n\t\t// #endif\r\n\t}\r\n};\r\n</script>\r\n<style scoped lang=\"stylus\">\nfull()\n\t// #ifndef APP-NVUE\n\twidth 100%\n\theight 100%\n\t// #endif\n\t// #ifdef APP-NVUE\n\tflex 1\n\t// #endif\n.l-f2\n\tfull()\n\tposition relative\n\t&__mask\n\t\tposition absolute\n\t\tleft 0\n\t\tright 0\n\t\tbottom 0\n\t\ttop 0\n\t\tbackground-color #fff\n\t\tz-index 1\n\t&__canvas\n\t\tfull()\n</style>\n","import mod from \"-!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l-f2.vue?vue&type=style&index=0&id=68739dc6&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l-f2.vue?vue&type=style&index=0&id=68739dc6&scoped=true&lang=stylus&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1640515316768\n      var cssReload = require(\"C:/home/DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}